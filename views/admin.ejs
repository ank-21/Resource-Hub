<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>
            Admin Page
        </title>
          <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/admin.css">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.css'>
<link rel='stylesheet' href='https://cdn.datatables.net/responsive/1.0.4/css/dataTables.responsive.css'>
    </head>
    <body>
        <div class="container" id="container">
        	<div class="row" >
            <div class="col-md-6" id="loggedin">
                <span>Logged in as: </span>
                <hr>
                <span id="name"><b><%= name %></b></span>
                
            </div>
            <div id="options" class="col-md-6">
              
                <!-- <select id="selectoption">
                    <option value="1"><a href="/hub/admin/21?model=User">Users</a></option>
                    <option value="2"><a href="/hub/admin/21?model=Notes">Notes</a></option>
                    <option value="3"><a href="/hub/admin/21?model=Report">Report</a></option>
                    <option value="4"><a href="/hub/admin/21?model=DeleteNote">Delete Notes</a></option>
                    <option value="5"><a href="/hub/admin/21?model=RequestNotes">Question Papers</a></option>
                </select> -->
                <select name="forma" onchange="location = this.value;" id="selectoption">
                    <option value="/hub/admin/21?model=User" hidden>Users</option>
                    <option value="/hub/admin/21?model=User">Users</option>
                    <option value="/hub/admin/21?model=Notes">Notes</option>
                    <option value="/hub/admin/21?model=Report">Report</option>
                    <option value="/hub/admin/21?model=DeleteNote">Delete Notes</option>
                    <option value="/hub/admin/21?model=RequestNotes">Request Notes</option>
                </select>
                   <h1 style="    position: relative;
                   top: 14vh;">Model - <span style="color: blueviolet;"><%=data%></span></h1>
            </div>
        </div>
    </div>
<div class="container" style="margin-top: 8vh;">
  <div class="row">
    <div class="col-xs-12">
      <table class="table table-bordered table-hover dt-responsive">
        
          <% if(data==undefined||data=='User'){ %>
            <thead>
              <tr>
                <th>S.No.</th>
                <th>User Id</th>
                <th>Name</th>
                <th>Email Id</th>
                <th>branch</th>
                <th>Semester</th>
                <th>Contact No</th>
                <th>Verified</th>
                <th>Uploads</th>
                <th>Downloads</th>
                <th>Other's download</th>
                <th>Reports</th>
              </tr>
            </thead>
            <tbody>
              <% var count = 1 %>
              <% dataDetails.forEach((data) => { %>
                <tr>
                  <td><%= count%>.</td>
                  <td><%= data._id %></td>
                  <td><%= data.name %></td>
                  <td><%= data.email %></td>
                  <td><%= data.branch %></td>
                  <td><%= data.Semester %></td>
                  <td><%= data.phnNo %></td>
                  <td><%= data.verified %></td>
                  <td><%= data.uploadsCount %></td>
                  <td><%= data.downloadCountUser %></td>
                  <td><%= data.notesDownloadedByUsers %></td>
                  <td><%= data.reports %></td>  
                </tr>
                <% count = count+1 %>
              <% })%>
  
            </tbody>
          <%}%>
          <% if(data=='Notes'){ %>
            <thead>
              <tr>
                <th>S.No.</th>
                <th>Note Id</th>
                <th>Branch</th>
                <th>Semester</th>
                <th>Subject</th>
                <th>year</th>
                <th>Notes Location</th>
                <th>Note Type</th>
                <th>prof Name</th>
                <th>Uploaded by</th>
                <th>Download Count</th>
                <th>Reports</th>
              </tr>
            </thead>
            <tbody>
              <% var count = 1 %>
              <% dataDetails.forEach((data) => { %>
                <tr>
                  <td><%= count%>.</td>
                  <td><%= data._id %></td>
                  <td><%= data.branch %></td>
                  <td><%= data.semester %></td>
                  <td><%= data.subject %></td>
                  <td><%= data.year %></td>
                  <td><%= data.notesLoc %></td>
                  <td><%= data.noteType %></td>
                  <td><%= data.profName %></td>
                  <td><%= data.userName %></td>
                  <td><%= data.downloadCount %></td>
                  <td><%= data.reports %></td>
                </tr>
                <% count = count+1 %>
              <% })%>
            </tbody>

          <%}%>
          <% if(data=='Report'){ %>
            <thead>
              <tr>
                <th>S.No.</th>
                <th>User Id</th>
                <th>Name</th>
                <th>Email Id</th>
                <th>Subject</th>
                <th>Message</th>
              </tr>
            </thead>
            <tbody>
              <% var count = 1 %>
              <% dataDetails.forEach((data) => { %>
                <tr>
                  <td><%= count%>.</td>
                  <td><%= data._id %></td>
                  <td><%= data.name %></td>
                  <td><%= data.email %></td>
                  <td><%= data.subject %></td>
                  <td><%= data.message %></td>
                </tr>
                <% count = count+1 %>
              <% })%>
  
            </tbody>

          <%}%>
          <% if(data=='RequestNotes'){ %>
            <thead>
              <tr>
                <th>S.No.</th>
                <th>Note Id</th>
                <th>Branch</th>
                <th>Semester</th>
                <th>Subject</th>
                <th>Solved</th>
                <th>Note Type</th>
                <th>prof Name</th>
                <th>year</th>
              </tr>
            </thead>
            <tbody>
              <% var count = 1 %>
              <% dataDetails.forEach((data) => { %>
                <tr>
                  <td><%= count%>.</td>
                  <td><%= data._id %></td>
                  <td><%= data.branch %></td>
                  <td><%= data.semester %></td>
                  <td><%= data.subject %></td>
                  <td><%= data.solved %></td>
                  <td><%= data.noteType %></td>
                  <td><%= data.profName %></td>
                  <td><%= data.year %></td>
                </tr>
                <% count = count+1 %>
              <% })%>
  
            </tbody>

          <%}%>
          <% if(data=='DeleteNote'){ %>
            <thead>
              <tr>
                <th>S.No.</th>
                <th>Note Id</th>
                <th>Deleted Via</th>
                <th>Branch</th>
                <th>Semester</th>
                <th>Subject</th>
                <th>Note Location</th>
              </tr>
            </thead>
            <tbody>
              <% var count = 1 %>
              <% dataDetails.forEach((data) => { %>
              <tr>
                <td><%= count%>.</td>
                <td><%= data._id %></td>
                <td><%= data.via %></td>
                <td><%= data.branch %></td>
                <td><%= data.semester %></td>
                <td><%= data.subject %></td>
                <td><%= data.notesLoc %></td>  
              </tr>
              <% count = count+1 %>
              <% })%>
  
            </tbody>
          <%}%>
            
            
          
      </table>
    </div>
  </div>
</div>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js'></script>
<script src='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js'></script>
<script src='https://cdn.datatables.net/responsive/1.0.4/js/dataTables.responsive.js'></script>
           <script src="/js/jquery-1.12.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script>
    	$('table').DataTable();
    </script>
    </body>
</html>